{"version":3,"sources":["context.js","components/Input.js","components/Settings.js","components/Analytics.js","components/Table.js","components/Chart.js","components/Loader.js","components/Tabs.js","components/AnalyticsBox.js","components/Alert.js","App.js","index.js"],"names":["DashBoardContext","createContext","withStyles","root","margin","textField","color","props","dateRange","min","max","classes","_useContext","useContext","handleChange","handleKeyPress","react_default","a","createElement","index_es","className","type","value","name","onChange","label","inputProps","error","helperText","required","InputProps","InputLabelProps","shrink","onKeyPress","Settings","dateAdornment","startAdornment","position","icons_index_es","tokenAdornment","container","justify","style","paddingTop","item","components_Input","placeholder","startDate","endDate","token","validToken","errorText","theme","marginTop","spacing","unit","xs","left","middle","right","desc","b","orderBy","columns","id","numeric","disablePadding","EnhancedTableHead","createSortHandler","property","event","_this","onRequestSort","_this2","this","_this$props","order","map","column","key","align","padding","sortDirection","title","placement","enterDelay","active","direction","onClick","React","Component","EnhancedTableToolbar","variant","spacer","paddingRight","highlight","palette","secondary","main","backgroundColor","lighten","light","text","primary","dark","flex","actions","EnhancedTable","state","selected","page","rowsPerPage","handleRequestSort","_this3","setState","handleChangePage","handleChangeRowsPerPage","target","_this$props2","data","_this$state","emptyRows","Math","length","Table_EnhancedTableToolbar","numSelected","tableWrapper","table","aria-labelledby","Table_EnhancedTableHead","onSelectAllClick","handleSelectAllClick","rowCount","array","cmp","stabilizedThis","el","index","sort","stableSort","getSorting","slice","n","hover","date","component","scope","conversation_count","missed_chat_count","visitors_with_conversation_count","height","colSpan","rowsPerPageOptions","count","backIconButtonProps","aria-label","nextIconButtonProps","onChangePage","onChangeRowsPerPage","overflowX","DataChart","series","options","chart","toolbar","show","zoom","enabled","xaxis","categories","labels","axisTicks","yaxis","legend","react_apexcharts_min_default","width","CircularIndeterminate","display","justifyContent","disableShrink","TabContainer","alignItems","minHeight","child","flexGrow","background","paper","appBar","_useState","useState","_useState2","Object","slicedToArray","setValue","dataByDate","loading","indicatorColor","centered","Table","AnalyticsBox","SimpleSnackbar","handleClose","open","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","ContentProps","aria-describedby","message","action","close","Close_default","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_event$target","defineProperty","saveData","localStorage","JSON","stringify","getData","reason","alert","url","concat","fetch","method","headers","Authorization","then","res","status","Promise","reject","json","console","log","totalConversationCount","total_conversation_count","totalUserMessageCount","total_user_message_count","totalVisitorMessageCount","total_visitor_message_count","by_date","preventDefault","getContext","objectSpread","parse","createMuiTheme","contrastText","typography","useNextVariants","Provider","core_styles","Alert","components_Analytics","Tabs","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.fdcd8694.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const DashBoardContext = createContext()\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { DashBoardContext } from '../context'\nimport { withStyles, TextField } from '@material-ui/core'\n\nfunction Input(props) {\n  const dateRange = { min: props.min || '2017-05-01', max: props.max || '2017-06-15' }\n  const { classes } = props\n  const { handleChange, handleKeyPress } = useContext(DashBoardContext)\n  return (\n    <TextField\n      className={classes.root}\n      type={props.type}\n      value={props.value}\n      name={props.name}\n      onChange={handleChange}\n      label={props.label}\n      inputProps={dateRange}\n      error={props.error}\n      helperText={props.error ? 'Invalid token!' : ''}\n      required\n      // eslint-disable-next-line\n      InputProps={props.InputProps}\n      InputLabelProps={{ shrink: true }}\n      onKeyPress={handleKeyPress}\n    />\n  )\n}\nInput.propTypes = {\n  classes: PropTypes.object.isRequired,\n  type: PropTypes.string.isRequired,\n  value: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  inputProps: PropTypes.object,\n  error: PropTypes.bool,\n  InputProps: PropTypes.object,\n}\nconst styles = () => ({\n  root: {\n    margin: 5,\n  },\n  textField: {\n    color: 'white',\n  },\n})\n\nexport default withStyles(styles)(Input)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Input from './Input'\nimport {Grid, InputAdornment} from '@material-ui/core'\nimport {AccountCircle, CalendarToday} from '@material-ui/icons'\n\nexport default function Settings(props) {\n  const dateAdornment = {\n    startAdornment: (\n      <InputAdornment position='start'>\n        <CalendarToday />\n      </InputAdornment>\n    ),\n  }\n  const tokenAdornment = {\n    startAdornment: (\n      <InputAdornment position='start'>\n        <AccountCircle />\n      </InputAdornment>\n    ),\n  }\n  return (\n      <Grid container justify=\"center\" style={{paddingTop: 20}}>\n      <Grid item>\n      <Input\n        label='Start date'\n        placeholder='Enter date..'\n        name='startDate'\n        value={props.startDate}\n        type='date'\n        min='2017-05-01'\n        max={props.endDate}\n        InputProps={dateAdornment}\n      />\n      <Input\n        label='End date'\n        placeholder='Enter date..'\n        name='endDate'\n        value={props.endDate}\n        type='date'\n        min={props.startDate}\n        max='2017-06-15'\n        InputProps={dateAdornment}\n      />\n      <Input\n        value={props.token}\n        name='token'\n        type='password'\n        label='API Token'\n        error={!props.validToken}\n        errorText='Invalid token!'\n        InputProps={tokenAdornment}\n      />\n      </Grid>\n      </Grid>\n  )\n}\n\nSettings.propTypes = {\n  startDate: PropTypes.string,\n  endDate: PropTypes.string,\n  token: PropTypes.string,\n  validToken: PropTypes.bool\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Grid, withStyles } from '@material-ui/core'\n\nconst styles = theme => ({\n  root: {\n    marginTop: theme.spacing.unit,\n  },\n})\nfunction Analytics(props) {\n  const { classes } = props\n  return (\n    <Grid className={classes.root} spacing={8} container justify='space-evenly'>\n      <Grid item xs>\n        {props.left}\n      </Grid>\n      <Grid item xs>\n        {props.middle}\n      </Grid>\n      <Grid item xs>\n        {props.right}\n      </Grid>\n    </Grid>\n  )\n}\n\nAnalytics.propTypes = {\n  classes: PropTypes.object.isRequired,\n  left: PropTypes.node.isRequired,\n  middle: PropTypes.node.isRequired,\n  right: PropTypes.node.isRequired,\n}\nexport default withStyles(styles)(Analytics)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  withStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TableSortLabel,\n  Toolbar,\n  Typography,\n  Paper,\n  Tooltip,\n} from '@material-ui/core'\nimport { lighten } from '@material-ui/core/styles/colorManipulator'\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1\n  }\n  return 0\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index])\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0])\n    if (order !== 0) return order\n    return a[1] - b[1]\n  })\n  return stabilizedThis.map(el => el[0])\n}\n\nfunction getSorting(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => desc(a, b, orderBy) // Returns -1, 1 or 0\n    : (a, b) => -desc(a, b, orderBy) // Returns 1, -1 or 0\n}\n\nconst columns = [\n  { id: 'date', numeric: false, disablePadding: false, label: 'Date' },\n  {\n    id: 'conversation_count',\n    numeric: true,\n    disablePadding: false,\n    label: 'Conversation count',\n  },\n  {\n    id: 'missed_chat_count',\n    numeric: true,\n    disablePadding: false,\n    label: 'Missed chat count',\n  },\n  {\n    id: 'visitors_with_conversation_count',\n    numeric: true,\n    disablePadding: false,\n    label: 'Visitors with conversation count',\n  },\n]\n\nclass EnhancedTableHead extends React.Component {\n  createSortHandler = property => event => {\n    this.props.onRequestSort(event, property)\n  }\n\n  render() {\n    const { order, orderBy } = this.props\n\n    return (\n      <TableHead>\n        <TableRow>\n          {columns.map(\n            column => (\n              <TableCell\n                key={column.id}\n                align='left'\n                padding={column.disablePadding ? 'none' : 'default'}\n                sortDirection={orderBy === column.id ? order : false}\n              >\n                <Tooltip\n                  title='Sort'\n                  placement={column.numeric ? 'bottom-end' : 'bottom-start'}\n                  enterDelay={300}\n                >\n                  <TableSortLabel\n                    active={orderBy === column.id}\n                    direction={order}\n                    onClick={this.createSortHandler(column.id)}\n                  >\n                    {column.label}\n                  </TableSortLabel>\n                </Tooltip>\n              </TableCell>\n            ),\n            this // Value to use as this when executing callback.\n          )}\n        </TableRow>\n      </TableHead>\n    )\n  }\n}\n\nEnhancedTableHead.propTypes = {\n  order: PropTypes.string.isRequired,\n  orderBy: PropTypes.string.isRequired,\n}\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n          color: theme.palette.secondary.main,\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        }\n      : {\n          color: theme.palette.text.primary,\n          backgroundColor: theme.palette.secondary.dark,\n        },\n  spacer: {\n    flex: '1 1 100%',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n})\n\nlet EnhancedTableToolbar = props => {\n  const { classes } = props\n\n  return (\n    <Toolbar className={classes.root}>\n      <div className={classes.title}>\n        <Typography variant='h6' id='tableTitle'>\n          Conversation data\n        </Typography>\n      </div>\n      <div className={classes.spacer} />\n    </Toolbar>\n  )\n}\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nEnhancedTableToolbar = withStyles(toolbarStyles)(EnhancedTableToolbar)\n\nconst styles = theme => ({\n  root: {\n    marginTop: theme.spacing.unit,\n    overflowX: 'auto'\n  },\n})\n\nclass EnhancedTable extends React.Component {\n  state = {\n    order: 'asc',\n    orderBy: 'date',\n    selected: [],\n    page: 0,\n    rowsPerPage: 5,\n  }\n\n  handleRequestSort = (event, property) => {\n    const orderBy = property\n    let order = 'desc'\n\n    if (this.state.orderBy === property && this.state.order === 'desc') {\n      order = 'asc'\n    }\n\n    this.setState({ order, orderBy })\n  }\n\n  handleChangePage = (event, page) => {\n    this.setState({ page })\n  }\n\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value })\n  }\n\n  render() {\n    const { classes, data } = this.props\n    const { order, orderBy, selected, rowsPerPage, page } = this.state\n    const emptyRows =\n      rowsPerPage - Math.min(rowsPerPage, data.length - page * rowsPerPage)\n\n    return (\n      <Paper className={classes.root}>\n        <EnhancedTableToolbar numSelected={selected.length} />\n        <div className={classes.tableWrapper}>\n          <Table\n            padding='dense'\n            className={classes.table}\n            aria-labelledby='tableTitle'\n          >\n            <EnhancedTableHead\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onSelectAllClick={this.handleSelectAllClick}\n              onRequestSort={this.handleRequestSort}\n              rowCount={data.length}\n            />\n            <TableBody>\n              {stableSort(data, getSorting(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map(n => {\n                  return (\n                    <TableRow hover key={n.date}>\n                      <TableCell align='left' component='th' scope='row'>\n                        {n.date}\n                      </TableCell>\n                      <TableCell align='left'>{n.conversation_count}</TableCell>\n                      <TableCell align='left'>{n.missed_chat_count}</TableCell>\n                      <TableCell align='left'>\n                        {n.visitors_with_conversation_count}\n                      </TableCell>\n                    </TableRow>\n                  )\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: 49 * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </div>\n        <TablePagination\n          rowsPerPageOptions={[5]}\n          component='div'\n          count={data.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          backIconButtonProps={{\n            'aria-label': 'Previous Page',\n          }}\n          nextIconButtonProps={{\n            'aria-label': 'Next Page',\n          }}\n          onChangePage={this.handleChangePage}\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\n        />\n      </Paper>\n    )\n  }\n}\n\nEnhancedTable.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.array.isRequired\n}\n\nexport default withStyles(styles)(EnhancedTable)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Chart from 'react-apexcharts'\n\nexport default function DataChart(props) {\n  let { data } = props\n\n  // API data is not sorted correctly by date\n  // Sort it here so the chart displays in a logical order.\n  data = data.sort((a, b) => {\n    return a.date < b.date ? -1 : a.date > b.date ? 1 : 0\n  })\n\n  const series = [\n    {\n      name: 'Conversations',\n      data: data.map(item => item.conversation_count),\n    },\n    {\n      name: 'Missed chats',\n      data: data.map(item => item.missed_chat_count),\n    },\n    {\n      name: 'Visitors with conversation',\n      data: data.map(item => item.visitors_with_conversation_count),\n    },\n  ]\n\n  const options = {\n    chart: {\n      id: 'apexchart-example',\n      toolbar: { show: false },\n      zoom: {\n        enabled: false,\n      },\n    },\n    xaxis: {\n      type: 'datetime',\n      categories: data.map(item => item.date),\n      labels: {\n        show: false,\n      },\n      title: { text: 'Date' },\n      axisTicks: {\n        show: false,\n      },\n    },\n    yaxis: { title: { text: 'Count' } },\n    legend: { position: 'top' },\n\n    title: {\n      text: 'Conversation data',\n      align: 'center',\n    },\n  }\n  \n  return (\n    <Chart\n      style={{ marginTop: 10 }}\n      options={options}\n      series={series}\n      type='line'\n      width='100%'\n      height='450px'\n    />\n  )\n}\n\nDataChart.propTypes = {\n  data: PropTypes.array.isRequired\n}\n","import React from 'react'\nimport { CircularProgress } from '@material-ui/core'\n\nexport default function CircularIndeterminate() {\n  return (\n    <div style={{ display: 'flex', justifyContent: 'center' }}>\n      <CircularProgress disableShrink />\n    </div>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles, AppBar, Tabs, Tab, Grid } from '@material-ui/core/'\nimport EnhancedTable from './Table'\nimport { DashBoardContext } from '../context'\nimport DataChart from './Chart'\nimport CircularIndeterminate from './Loader'\n\nfunction TabContainer(props) {\n  return (\n    <Grid\n      container\n      alignItems='center'\n      justify='center'\n      component='div'\n      style={{ minHeight: 473 }}\n    >\n      <Grid item xs>{props.child}</Grid>\n    </Grid>\n  )\n}\n\nTabContainer.propTypes = {\n  child: PropTypes.node.isRequired,\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  appBar: { backgroundColor: '#0288d1', marginTop: theme.spacing.unit * 3 },\n})\n\nfunction SimpleTabs(props) {\n  const [value, setValue] = useState(0)\n\n  const handleChange = (event, value) => {\n    setValue(value)\n  }\n\n  const { classes } = props\n\n  const { dataByDate, loading } = useContext(DashBoardContext)\n\n  return (\n    <div className={classes.root}>\n      <AppBar className={classes.appBar} position='static'>\n        <Tabs\n          indicatorColor='secondary'\n          centered\n          value={value}\n          onChange={handleChange}\n        >\n          <Tab label='Table' />\n          <Tab label='Chart' />\n        </Tabs>\n      </AppBar>\n      {value === 0 && (\n        <TabContainer\n          child={\n            loading \n            ? (<CircularIndeterminate />) \n            : (<EnhancedTable data={dataByDate} />)\n          }\n        />\n      )}\n      {value === 1 && (\n        <TabContainer\n          child={\n            loading\n            ? (<CircularIndeterminate />)\n            : (<DataChart data={dataByDate} />)\n          }\n        />\n      )}\n    </div>\n  )\n}\n\nSimpleTabs.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(SimpleTabs)\n","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport { Paper, Typography, Grid } from '@material-ui/core'\nimport CircularIndeterminate from './Loader'\nimport {DashBoardContext} from '../context'\n\nexport default function AnalyticsBox(props) {\n  const styles = {\n    Paper: {\n      height: '100%',\n      minHeight: 170,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n  }\n\n  const { loading } = useContext(DashBoardContext)\n\n  return (\n    <Paper style={styles.Paper}>\n      <Grid container direction='column' alignItems='center'>\n        <Grid item xs>\n          <Typography color='textSecondary' variant='h6' align='center'>\n            {props.title}\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          {loading\n          ? (<CircularIndeterminate />) \n          : (<Typography\n              color='textPrimary'\n              variant='h4'\n              align='center'\n              style={{ marginTop: 'auto' }}\n            >\n              {props.data}\n            </Typography>\n            )\n          }\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n\nAnalyticsBox.propTypes = {\n  data: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles, Snackbar, IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = theme => ({\n  close: {\n    padding: theme.spacing.unit / 2,\n  },\n});\n\nclass SimpleSnackbar extends React.Component {\n\n  render() {\n    const { classes, handleClose, open } = this.props;\n    return (\n      <div>\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          open={open}\n          autoHideDuration={6000}\n          onClose={handleClose}\n          ContentProps={{\n            'aria-describedby': 'message-id',\n          }}\n          message={<span id=\"message-id\">Invalid date!</span>}\n          action={[\n            <IconButton\n              key=\"close\"\n              aria-label=\"Close\"\n              color=\"inherit\"\n              className={classes.close}\n              onClick={handleClose}\n            >\n              <CloseIcon />\n            </IconButton>,\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\nSimpleSnackbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles)(SimpleSnackbar);","import React, { Component } from 'react'\nimport './App.css'\nimport Settings from './components/Settings'\nimport Analytics from './components/Analytics'\nimport Tabs from './components/Tabs'\nimport AnalyticsBox from './components/AnalyticsBox'\nimport SimpleSnackbar from './components/Alert'\nimport { DashBoardContext } from './context'\nimport { withStyles, createMuiTheme, MuiThemeProvider } from '@material-ui/core'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      startDate: '2017-05-01',\n      endDate: '2017-06-15',\n      token: '',\n      totalConversationCount: 0,\n      totalUserMessageCount: 0,\n      totalVisitorMessageCount: 0,\n      dataByDate: [],\n      validToken: true,\n      loading: false,\n      alert: false,\n    }\n    this.saveData = JSON.parse(localStorage.saveData || null) || {}\n  }\n\n  componentDidMount() {\n    // Setting state according to localStorage values\n    // If localStorage is empty, keep the inital value\n    this.setState(\n      {\n        startDate: this.saveData.startDate || this.state.startDate,\n        endDate: this.saveData.endDate || this.state.endDate,\n        token: this.saveData.token || this.state.token,\n      },\n      () => {\n        if (this.state.token !== '') this.getData()\n      }\n    )\n  }\n\n  handleChange = event => {\n    const { name, value, type } = event.target\n    // Some checks to make sure the date is valid as min and max attributes don't work for keyboard input.\n    // Also prevents resetting the date on mobile\n    \n      this.setState({ [name]: value }, () => {\n        if (type === 'date' && value) {\n          // Setting localStorage values\n          this.saveData.startDate = this.state.startDate\n          this.saveData.endDate = this.state.endDate\n          localStorage.saveData = JSON.stringify(this.saveData)\n          this.getData()\n      }\n      else {\n        this.saveData.token = this.state.token\n        localStorage.saveData = JSON.stringify(this.saveData)}\n    })\n  }\n\n  handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    this.setState({ alert: false });\n  };\n\n  getData = () => {\n    this.setState({ loading: true })\n    const url = `https://api.giosg.com/api/reporting/v1/rooms/84e0fefa-5675-11e7-a349-00163efdd8db/chat-stats/daily/?start_date=${\n      this.state.startDate\n    }&end_date=${this.state.endDate}`\n    const token = 'Token ' + this.state.token\n    fetch(url, { method: 'GET', headers: { Authorization: token } })\n      .then(res => {\n        if (res.status === 401) {\n          // Status 401: Unauthorized\n          this.setState({ validToken: false, loading: false })\n          return Promise.reject(res.status)\n        } \n        else if (res.status === 400) {\n          this.setState({alert: true, loading: false})\n          return Promise.reject(res.status) \n          }\n        else return res.json()\n      })\n      .then(data => {\n        console.log(data)\n        this.setState({\n          totalConversationCount: data.total_conversation_count,\n          totalUserMessageCount: data.total_user_message_count,\n          totalVisitorMessageCount: data.total_visitor_message_count,\n          dataByDate: data.by_date,\n          loading: false,\n          validToken: true,\n        })\n      })\n  }\n\n  // If user presses enter while in the token field, get data\n  handleKeyPress = event => {\n    if (event.key === 'Enter' && event.target.name === 'token') {\n      this.getData()\n    }\n    else if (event.target.name !== 'token') {event.preventDefault()}\n  }\n\n  // Using context API to pass handler functions down in the component tree\n  getContext = () => ({\n    ...this.state,\n    handleChange: this.handleChange,\n    handleKeyPress: this.handleKeyPress,\n  })\n\n  render() {\n    const theme = createMuiTheme({\n      palette: {\n        primary: {\n          light: '#757ce8',\n          main: '#2196f3',\n          dark: '#bbdefb',\n          contrastText: '#fff',\n        },\n        secondary: {\n          light: '#ff7961',\n          main: '#90caf9',\n          dark: '#ba000d',\n          contrastText: '#000',\n        },\n      },\n      typography: {\n        useNextVariants: true,\n      },\n    })\n\n    const {\n      totalConversationCount,\n      totalUserMessageCount,\n      totalVisitorMessageCount,\n      startDate,\n      endDate,\n      token,\n      validToken,\n    } = this.state\n\n    const { classes } = this.props // Magic from withStyles\n\n    return (\n      <DashBoardContext.Provider value={this.getContext()}>\n        <MuiThemeProvider theme={theme}>\n        <SimpleSnackbar handleClose={this.handleClose} open={this.state.alert}/>\n          <div className={classes.root} style={{ padding: 10 }}>\n            <Analytics\n              left={\n                <AnalyticsBox\n                  title='Total conversation count'\n                  data={totalConversationCount}\n                />\n              }\n              middle={\n                <AnalyticsBox\n                  title='Total user message count'\n                  data={totalUserMessageCount}\n                />\n              }\n              right={\n                <AnalyticsBox\n                  title='Total visitor message count'\n                  data={totalVisitorMessageCount}\n                />\n              }\n            />\n            <Settings\n              startDate={startDate}\n              endDate={endDate}\n              token={token}\n              validToken={validToken}\n            />\n            <Tabs/>\n          </div>\n        </MuiThemeProvider>\n      </DashBoardContext.Provider>\n    )\n  }\n}\n\nconst styles = () => ({\n  root: {\n    backgroundColor: '#03a9f4',\n  },\n})\n\nexport default withStyles(styles)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport 'typeface-roboto'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}